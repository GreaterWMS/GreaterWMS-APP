import{Q as g}from"./QItemLabel.8b351527.js";import{Q as Y,b as S,a as R}from"./QList.5473fc14.js";import{_ as Z,aC as z,J as G,aR as H,r as _,c as t,w as N,o as K,M as Q,O as k,R as o,f as s,W as r,X as i,$ as U,Y as F,Z as ee,F as j,S as ae,a1 as te}from"./index.1785b037.js";import{u as ne}from"./use-quasar.8d75fc37.js";import{a as se}from"./index.2885cb15.js";import{u as oe}from"./vue-i18n.runtime.esm-bundler.ec1d6f08.js";const ce=z({name:"DNDetail",data(){return{}},setup(){const e=G();H();const u=ne(),f=_(0);_({}),_(!1),_([]);const{t:l}=oe(),w=t({get:()=>e.state.fabchange.fab1}),C=t({get:()=>e.state.fabchange.fab2}),d=t({get:()=>e.state.fabchange.fab3}),m=t({get:()=>e.state.fabchange.fab4}),V=t({get:()=>e.state.screenchange.screenscroll}),b=t({get:()=>e.state.loginauth.authin}),J=t({get:()=>e.state.loginauth.login_name}),I=t({get:()=>e.state.loginauth.operator}),A=t({get:()=>e.state.settings.openid}),B=t({get:()=>e.state.langchange.lang}),D=t({get:()=>e.state.settings.server}),O=t({get:()=>e.state.scanchanged.scandata,set:a=>{e.commit("scanchanged/ScanChanged",a)}}),P=t({get:()=>e.state.scanchanged.datadetail,set:a=>{e.commit("scanchanged/ScanDataChanged",a)}}),W=t({get:()=>e.state.scanchanged.asndata,set:a=>{e.commit("scanchanged/ASNDataChanged",a)}}),T=t({get:()=>e.state.scanchanged.dndata,set:a=>{e.commit("scanchanged/DNDataChanged",a)}}),X=t({get:()=>e.state.scanchanged.bindata,set:a=>{e.commit("scanchanged/BinDataChanged",a)}}),p=t({get:()=>e.state.scanchanged.tablelist,set:a=>{e.commit("scanchanged/TableDataChanged",a)}}),y=t({get:()=>e.state.scanchanged.scanmode,set:a=>{e.commit("scanchanged/ScanModeChanged",a)}}),q=t({get:()=>e.state.scanchanged.bar_scanned}),h=t({get:()=>e.state.scanchanged.apiurl,set:a=>{e.commit("scanchanged/ApiUrlChanged",a)}}),v=t({get:()=>e.state.scanchanged.apiurlnext,set:a=>{e.commit("scanchanged/ApiUrlNextChanged",a)}}),x=t({get:()=>e.state.scanchanged.apiurlprevious,set:a=>{e.commit("scanchanged/ApiUrlPreviousChanged",a)}});function E(a){if(a!==null){var n=D.value.split(":"),c=a.split(":");if(c.length===2)return n[0]!==c[0]?n[0]+":"+c[1]:a;if(c.length===3)return n[0]!==c[0]?n[0]+":"+c[1]+":"+c[2]:a}else return null}function L(){p.value=[],h.value=D.value+"/dn/detail/?dn_code="+T.value,M("")}function M(a){se.get(h.value+a,{headers:{"Content-Type":'application/json, charset="utf-8"',token:A.value,language:B.value,operator:I.value}}).then(n=>{if(n.data.detail)u.notify({type:"negative",message:l("notice.mobile_scan.notice1")});else{var c=[];p.value.forEach($=>{c.push($)}),n.data.results.forEach($=>{c.push($)}),p.value=c,x.value=E(n.data.previous),v.value=E(n.data.next)}}).catch(n=>{u.notify({type:"negative",message:l("notice.mobile_scan.notice3")})})}return N(q,(a,n)=>{y.value==="DN"&&L()}),N(V,(a,n)=>{a===1?v.value!==null&&(h.value=v.value,f.value=1):f.value=0}),N(f,(a,n)=>{a===1&&(b.value==="0"?u.notify({type:"negative",message:l("notice.mobile_userlogin.notice9")}):M(""))}),K(()=>{b.value==="0"?u.notify({type:"negative",message:l("notice.mobile_userlogin.notice9")}):(y.value="DN",L())}),{t:l,fab1:w,fab2:C,fab3:d,fab4:m,screenscroll:V,authin:b,login_name:J,openid:A,operator:I,lang:B,requestauth:f,baseurl:D,apiurl:h,apiurlnext:v,apiurlprevious:x,scandata:O,datadetail:P,tablelist:p,asndata:W,dndata:T,bindata:X,scanmode:y,bar_scanned:q}}});function ie(e,u,f,l,w,C){return Q(),k(Y,{bordered:"",padding:""},{default:o(()=>[s(R,null,{default:o(()=>[s(S,null,{default:o(()=>[s(g,{overline:""},{default:o(()=>[r(i(e.$t("notice.mobile_dn.notice6")),1)]),_:1}),s(g,{caption:""},{default:o(()=>[r(i(e.$t("notice.mobile_dn.notice7")),1)]),_:1})]),_:1})]),_:1}),s(U,{spaced:""}),(Q(!0),F(j,null,ee(e.tablelist,(d,m)=>(Q(),F(j,{key:m},[s(R,null,{default:o(()=>[s(S,null,{default:o(()=>[s(g,null,{default:o(()=>[r(i(d.dn_code),1)]),_:2},1024),s(g,{caption:"",lines:"2"},{default:o(()=>[r(i(d.goods_code),1)]),_:2},1024)]),_:2},1024),s(S,{side:"",top:""},{default:o(()=>[s(g,{caption:""},{default:o(()=>[r(i(e.$t("notice.mobile_dn.notice9"))+i(d.goods_cost),1)]),_:2},1024),s(g,{caption:""},{default:o(()=>[r(i(e.$t("notice.mobile_dn.notice10"))+i(d.goods_qty),1)]),_:2},1024)]),_:2},1024)]),_:2},1024),ae(s(U,{spaced:"",inset:"item"},null,512),[[te,m+1!==e.tablelist.length]])],64))),128))]),_:1})}var me=Z(ce,[["render",ie]]);export{me as default};
