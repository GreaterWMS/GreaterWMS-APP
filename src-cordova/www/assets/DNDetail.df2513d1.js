import{Q as i}from"./QItemLabel.d797dbce.js";import{Q as W,b as $,a as M}from"./QList.961a0366.js";import{_ as X,az as G,J as H,aP as K,r as _,c as t,w as y,o as Y,M as S,O as Z,R as s,f as n,S as d,U as c,X as x,V as F,W as aa,F as P,$ as ea,aA as ta}from"./index.c1f9df61.js";import{u as na}from"./use-quasar.03141881.js";import{a as sa}from"./index.2885cb15.js";import{u as oa}from"./vue-i18n.runtime.esm-bundler.76c89422.js";const ca=G({name:"DNDetail",data(){return{}},setup(){const a=H();K();const f=na(),r=_(0);_({}),_(!1),_([]);const{t:g}=oa(),N=t({get:()=>a.state.fabchange.fab1}),Q=t({get:()=>a.state.fabchange.fab2}),u=t({get:()=>a.state.fabchange.fab3}),h=t({get:()=>a.state.fabchange.fab4}),V=t({get:()=>a.state.screenchange.screenscroll}),w=t({get:()=>a.state.loginauth.authin}),R=t({get:()=>a.state.loginauth.login_name}),A=t({get:()=>a.state.loginauth.operator}),I=t({get:()=>a.state.settings.openid}),B=t({get:()=>a.state.langchange.lang}),b=t({get:()=>a.state.settings.server}),j=t({get:()=>a.state.scanchanged.scandata,set:e=>{a.commit("scanchanged/ScanChanged",e)}}),z=t({get:()=>a.state.scanchanged.datadetail,set:e=>{a.commit("scanchanged/ScanDataChanged",e)}}),J=t({get:()=>a.state.scanchanged.asndata,set:e=>{a.commit("scanchanged/ASNDataChanged",e)}}),T=t({get:()=>a.state.scanchanged.dndata,set:e=>{a.commit("scanchanged/DNDataChanged",e)}}),O=t({get:()=>a.state.scanchanged.bindata,set:e=>{a.commit("scanchanged/BinDataChanged",e)}}),m=t({get:()=>a.state.scanchanged.tablelist,set:e=>{a.commit("scanchanged/TableDataChanged",e)}}),D=t({get:()=>a.state.scanchanged.scanmode,set:e=>{a.commit("scanchanged/ScanModeChanged",e)}}),U=t({get:()=>a.state.scanchanged.bar_scanned}),p=t({get:()=>a.state.scanchanged.apiurl,set:e=>{a.commit("scanchanged/ApiUrlChanged",e)}}),v=t({get:()=>a.state.scanchanged.apiurlnext,set:e=>{a.commit("scanchanged/ApiUrlNextChanged",e)}}),k=t({get:()=>a.state.scanchanged.apiurlprevious,set:e=>{a.commit("scanchanged/ApiUrlPreviousChanged",e)}});function q(e){if(e!==null){var o=b.value.split(":"),l=e.split(":");return o[0]!==l[0]?o[0]+":"+l[1]:l}else return null}function E(){m.value=[],p.value=b.value+"dn/detail/?dn_code="+T.value,L("")}function L(e){sa.get(p.value+e,{headers:{"Content-Type":'application/json, charset="utf-8"',token:I.value,language:B.value,operator:A.value}}).then(o=>{if(o.data.detail)f.notify({type:"negative",message:g("notice.mobile_scan.notice1")});else{var l=[];m.value.forEach(C=>{l.push(C)}),o.data.results.forEach(C=>{l.push(C)}),m.value=l,k.value=q(o.data.previous),v.value=q(o.data.next)}}).catch(o=>{f.notify({type:"negative",message:g("notice.mobile_scan.notice3")})})}return y(U,(e,o)=>{D.value==="DN"&&E()}),y(V,(e,o)=>{e===1?v.value!==null&&(p.value=v.value,r.value=1):r.value=0}),y(r,(e,o)=>{e===1&&(w.value==="0"?f.notify({type:"negative",message:g("notice.mobile_userlogin.notice9")}):L(""))}),Y(()=>{D.value="DN",E()}),{t:g,fab1:N,fab2:Q,fab3:u,fab4:h,screenscroll:V,authin:w,login_name:R,openid:I,operator:A,lang:B,requestauth:r,baseurl:b,apiurl:p,apiurlnext:v,apiurlprevious:k,scandata:j,datadetail:z,tablelist:m,asndata:J,dndata:T,bindata:O,scanmode:D,bar_scanned:U}}});function la(a,f,r,g,N,Q){return S(),Z(W,{bordered:"",padding:""},{default:s(()=>[n(M,null,{default:s(()=>[n($,null,{default:s(()=>[n(i,{overline:""},{default:s(()=>[d(c(a.$t("notice.mobile_dn.notice6")),1)]),_:1}),n(i,{caption:""},{default:s(()=>[d(c(a.$t("notice.mobile_dn.notice7")),1)]),_:1})]),_:1})]),_:1}),n(x,{spaced:""}),n(i,{header:""},{default:s(()=>[d(c(a.dndata),1)]),_:1}),(S(!0),F(P,null,aa(a.tablelist,(u,h)=>(S(),F(P,{key:h},[n(M,null,{default:s(()=>[n($,null,{default:s(()=>[n(i,null,{default:s(()=>[d(c(u.dn_code),1)]),_:2},1024),n(i,{caption:"",lines:"2"},{default:s(()=>[d(c(u.goods_code),1)]),_:2},1024)]),_:2},1024),n($,{side:"",top:""},{default:s(()=>[n(i,{caption:""},{default:s(()=>[d(c(a.$t("notice.mobile_dn.notice9"))+c(u.goods_cost),1)]),_:2},1024),n(i,{caption:""},{default:s(()=>[d(c(a.$t("notice.mobile_dn.notice10"))+c(u.goods_qty),1)]),_:2},1024)]),_:2},1024)]),_:2},1024),ea(n(x,{spaced:"",inset:"item"},null,512),[[ta,h+1!==a.tablelist.length]])],64))),128))]),_:1})}var ha=X(ca,[["render",la]]);export{ha as default};
