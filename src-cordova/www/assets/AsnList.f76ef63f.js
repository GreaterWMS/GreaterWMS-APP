import{Q as d}from"./QItemLabel.58eb6bb3.js";import{Q as W,b as C,a as U}from"./QList.3cc5bd82.js";import{_ as X,az as x,J as G,aP as H,r as K,c as t,w as E,o as Y,M as S,O as Z,R as s,f as n,S as u,U as c,X as M,V as q,W as aa,F,$ as ea,aA as ta}from"./index.08e92286.js";import{u as na}from"./use-quasar.de271e6e.js";import{a as sa}from"./index.2885cb15.js";import{u as oa}from"./vue-i18n.runtime.esm-bundler.114ddd7d.js";const ca=x({name:"ASNList",data(){return{}},setup(){const a=G(),D=H(),f=na(),r=K(0),{t:g}=oa(),y=t({get:()=>a.state.fabchange.fab1}),i=t({get:()=>a.state.fabchange.fab2}),m=t({get:()=>a.state.fabchange.fab3}),A=t({get:()=>a.state.fabchange.fab4}),N=t({get:()=>a.state.screenchange.screenscroll}),Q=t({get:()=>a.state.loginauth.authin}),P=t({get:()=>a.state.loginauth.login_name}),L=t({get:()=>a.state.loginauth.operator}),k=t({get:()=>a.state.settings.openid}),w=t({get:()=>a.state.langchange.lang}),b=t({get:()=>a.state.settings.server}),R=t({get:()=>a.state.scanchanged.scandata,set:e=>{a.commit("scanchanged/ScanChanged",e)}}),j=t({get:()=>a.state.scanchanged.datadetail,set:e=>{a.commit("scanchanged/ScanDataChanged",e)}}),V=t({get:()=>a.state.scanchanged.asndata,set:e=>{a.commit("scanchanged/ASNDataChanged",e)}}),z=t({get:()=>a.state.scanchanged.dndata,set:e=>{a.commit("scanchanged/DNDataChanged",e)}}),J=t({get:()=>a.state.scanchanged.bindata,set:e=>{a.commit("scanchanged/BinDataChanged",e)}}),p=t({get:()=>a.state.scanchanged.tablelist,set:e=>{a.commit("scanchanged/TableDataChanged",e)}}),_=t({get:()=>a.state.scanchanged.scanmode,set:e=>{a.commit("scanchanged/ScanModeChanged",e)}}),h=t({get:()=>a.state.scanchanged.apiurl,set:e=>{a.commit("scanchanged/ApiUrlChanged",e)}}),v=t({get:()=>a.state.scanchanged.apiurlnext,set:e=>{a.commit("scanchanged/ApiUrlNextChanged",e)}}),B=t({get:()=>a.state.scanchanged.apiurlprevious,set:e=>{a.commit("scanchanged/ApiUrlPreviousChanged",e)}});function I(e){if(e!==null){var o=b.value.split(":"),l=e.split(":");return o[0]!==l[0]?o[0]+":"+l[1]:l}else return null}function O(e){V.value=e,_.value="ASN",D.push({name:"asndetail"})}function T(e){sa.get(h.value+e,{headers:{"Content-Type":"application/json",token:k.value,language:w.value,operator:L.value}}).then(o=>{if(o.data.detail)f.notify({type:"negative",message:g("notice.mobile_scan.notice1")});else{var l=[];p.value.forEach($=>{l.push($)}),o.data.results.forEach($=>{l.push($)}),p.value=l,B.value=I(o.data.previous),v.value=I(o.data.next)}}).catch(o=>{f.notify({type:"negative",message:g("notice.mobile_scan.notice3")})})}return E(N,(e,o)=>{e>=.95?v.value!==null&&(h.value=v.value,r.value=1):r.value=0}),E(r,(e,o)=>{e===1&&T("")}),Y(()=>{Q.value==="0"?f.notify({type:"negative",message:g("notice.mobile_userlogin.notice9")}):(_.value="ASN",h.value=b.value+"asn/list/",p.value=[],T(""))}),{t:g,fab1:y,fab2:i,fab3:m,fab4:A,screenscroll:N,authin:Q,login_name:P,openid:k,operator:L,lang:w,requestauth:r,baseurl:b,apiurl:h,apiurlnext:v,apiurlprevious:B,scandata:R,datadetail:j,tablelist:p,asndata:V,dndata:z,bindata:J,scanmode:_,DetailLine:O}}});function ia(a,D,f,r,g,y){return S(),Z(W,{bordered:"",padding:""},{default:s(()=>[n(U,null,{default:s(()=>[n(C,null,{default:s(()=>[n(d,{overline:""},{default:s(()=>[u(c(a.$t("notice.mobile_asn.notice1")),1)]),_:1}),n(d,{caption:""},{default:s(()=>[u(c(a.$t("notice.mobile_asn.notice2")),1)]),_:1})]),_:1})]),_:1}),n(M,{spaced:""}),n(d,{header:""},{default:s(()=>[u(c(a.$t("notice.detail")),1)]),_:1}),(S(!0),q(F,null,aa(a.tablelist,(i,m)=>(S(),q(F,{key:m},[n(U,null,{default:s(()=>[n(C,{onClick:A=>a.DetailLine(i.asn_code)},{default:s(()=>[n(d,null,{default:s(()=>[u(c(i.asn_code),1)]),_:2},1024),n(d,{caption:"",lines:"2"},{default:s(()=>[u(c(a.$t("notice.mobile_asn.notice3"))+c(i.supplier),1)]),_:2},1024)]),_:2},1032,["onClick"]),n(C,{side:"",top:""},{default:s(()=>[n(d,{caption:""},{default:s(()=>[u(c(a.$t("notice.mobile_asn.notice4"))+":"+c(i.total_cost),1)]),_:2},1024),n(d,{caption:""},{default:s(()=>[u(c(a.$t("notice.mobile_asn.notice5"))+c(i.asn_status),1)]),_:2},1024)]),_:2},1024)]),_:2},1024),ea(n(M,{spaced:"",inset:"item"},null,512),[[ta,m+1!==a.tablelist.length]])],64))),128))]),_:1})}var ma=X(ca,[["render",ia]]);export{ma as default};
