import{Q as d}from"./QItemLabel.8b351527.js";import{Q as Y,b as D,a as O}from"./QList.5473fc14.js";import{_ as Z,aC as z,J as G,aR as H,K as ee,r as ae,c as t,w as C,o as te,M as N,O as ne,R as o,f as s,W as u,X as l,$ as j,Y as x,Z as se,F as J,S as oe,a1 as ce}from"./index.1785b037.js";import{u as le}from"./use-quasar.8d75fc37.js";import{a as ie}from"./index.2885cb15.js";import{u as de}from"./vue-i18n.runtime.esm-bundler.ec1d6f08.js";const ue=z({name:"ASNList",data(){return{}},setup(){const e=G(),k=H();ee();const h=le(),g=ae(0),{t:r}=de(),w=t({get:()=>e.state.fabchange.fab1}),i=t({get:()=>e.state.fabchange.fab2}),p=t({get:()=>e.state.fabchange.fab3}),y=t({get:()=>e.state.fabchange.fab4}),A=t({get:()=>e.state.linkchange.oldlink,set:a=>{e.commit("linkchange/OldLinkChanged",a)}}),L=t({get:()=>e.state.linkchange.newlink,set:a=>{e.commit("linkchange/NewLinkChanged",a)}}),Q=t({get:()=>e.state.screenchange.screenscroll}),V=t({get:()=>e.state.loginauth.authin}),K=t({get:()=>e.state.loginauth.login_name}),B=t({get:()=>e.state.loginauth.operator}),I=t({get:()=>e.state.settings.openid}),R=t({get:()=>e.state.langchange.lang}),_=t({get:()=>e.state.settings.server}),T=t({get:()=>e.state.scanchanged.scandata,set:a=>{e.commit("scanchanged/ScanChanged",a)}}),P=t({get:()=>e.state.scanchanged.datadetail,set:a=>{e.commit("scanchanged/ScanDataChanged",a)}}),S=t({get:()=>e.state.scanchanged.asndata,set:a=>{e.commit("scanchanged/ASNDataChanged",a)}}),W=t({get:()=>e.state.scanchanged.dndata,set:a=>{e.commit("scanchanged/DNDataChanged",a)}}),X=t({get:()=>e.state.scanchanged.bindata,set:a=>{e.commit("scanchanged/BinDataChanged",a)}}),v=t({get:()=>e.state.scanchanged.tablelist,set:a=>{e.commit("scanchanged/TableDataChanged",a)}}),b=t({get:()=>e.state.scanchanged.scanmode,set:a=>{e.commit("scanchanged/ScanModeChanged",a)}}),E=t({get:()=>e.state.scanchanged.bar_scanned}),m=t({get:()=>e.state.scanchanged.apiurl,set:a=>{e.commit("scanchanged/ApiUrlChanged",a)}}),f=t({get:()=>e.state.scanchanged.apiurlnext,set:a=>{e.commit("scanchanged/ApiUrlNextChanged",a)}}),M=t({get:()=>e.state.scanchanged.apiurlprevious,set:a=>{e.commit("scanchanged/ApiUrlPreviousChanged",a)}});function U(a){if(a!==null){var n=_.value.split(":"),c=a.split(":");if(c.length===2)return n[0]!==c[0]?n[0]+":"+c[1]:a;if(c.length===3)return n[0]!==c[0]?n[0]+":"+c[1]+":"+c[2]:a}else return null}function q(a){S.value=a,b.value="ASN",A.value="asnlist",L.value="asndetail",k.push({name:"asndetail"})}function F(a){ie.get(m.value+a,{headers:{"Content-Type":"application/json",token:I.value,language:R.value,operator:B.value}}).then(n=>{if(n.data.detail)h.notify({type:"negative",message:r("notice.mobile_scan.notice1")});else{var c=[];v.value.forEach($=>{c.push($)}),n.data.results.forEach($=>{c.push($)}),v.value=c,M.value=U(n.data.previous),f.value=U(n.data.next),console.log(f.value)}}).catch(n=>{h.notify({type:"negative",message:r("notice.mobile_scan.notice3")})})}return C(Q,(a,n)=>{a>=.95?f.value!==null&&(m.value=f.value,console.log(2,m.value),g.value=1):g.value=0}),C(g,(a,n)=>{a===1&&F("")}),C(E,(a,n)=>{b.value==="ASN"&&q(T.value)}),te(()=>{V.value==="0"?h.notify({type:"negative",message:r("notice.mobile_userlogin.notice9")}):(b.value="ASN",m.value=_.value+"/asn/list/",S.value="",v.value=[],F(""))}),{t:r,fab1:w,fab2:i,fab3:p,fab4:y,oldlink:A,newlink:L,screenscroll:Q,authin:V,login_name:K,openid:I,operator:B,lang:R,requestauth:g,baseurl:_,apiurl:m,apiurlnext:f,apiurlprevious:M,scandata:T,datadetail:P,tablelist:v,asndata:S,dndata:W,bindata:X,scanmode:b,bar_scanned:E,DetailLine:q}}});function ge(e,k,h,g,r,w){return N(),ne(Y,{bordered:"",padding:""},{default:o(()=>[s(O,null,{default:o(()=>[s(D,null,{default:o(()=>[s(d,{overline:""},{default:o(()=>[u(l(e.$t("notice.mobile_asn.notice1")),1)]),_:1}),s(d,{caption:""},{default:o(()=>[u(l(e.$t("notice.mobile_asn.notice2")),1)]),_:1})]),_:1})]),_:1}),s(j,{spaced:""}),(N(!0),x(J,null,se(e.tablelist,(i,p)=>(N(),x(J,{key:p},[s(O,null,{default:o(()=>[s(D,{onClick:y=>e.DetailLine(i.asn_code)},{default:o(()=>[s(d,null,{default:o(()=>[u(l(i.asn_code),1)]),_:2},1024),s(d,{caption:"",lines:"2"},{default:o(()=>[u(l(e.$t("notice.mobile_asn.notice3"))+l(i.supplier),1)]),_:2},1024)]),_:2},1032,["onClick"]),s(D,{side:"",top:""},{default:o(()=>[s(d,{caption:""},{default:o(()=>[u(l(e.$t("notice.mobile_asn.notice4"))+l(i.total_cost),1)]),_:2},1024),s(d,{caption:""},{default:o(()=>[u(l(e.$t("notice.mobile_asn.notice5"))+l(i.asn_status),1)]),_:2},1024)]),_:2},1024)]),_:2},1024),oe(s(j,{spaced:"",inset:"item"},null,512),[[ce,p+1!==e.tablelist.length]])],64))),128))]),_:1})}var be=Z(ue,[["render",ge]]);export{be as default};
