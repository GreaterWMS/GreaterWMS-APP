import{Q as u}from"./QItemLabel.6b69de3f.js";import{Q as Y,b as S,a as O}from"./QList.88c3db1c.js";import{_ as Z,aC as z,J as G,aR as H,K as aa,r as ea,c as t,w as $,o as ta,M as D,O as na,R as s,f as n,W as d,X as c,$ as j,Y as x,Z as sa,F as J,S as oa,a1 as ca}from"./index.0a98aec3.js";import{u as la}from"./use-quasar.278686c4.js";import{a as ia}from"./index.33b22a2c.js";import{u as ua}from"./vue-i18n.runtime.esm-bundler.780b764a.js";import"./axios.b70a614d.js";const da=z({name:"ASNList",data(){return{}},setup(){const a=G(),N=H();aa();const h=la(),r=ea(0),{t:g}=ua(),w=t({get:()=>a.state.fabchange.fab1}),l=t({get:()=>a.state.fabchange.fab2}),m=t({get:()=>a.state.fabchange.fab3}),y=t({get:()=>a.state.fabchange.fab4}),A=t({get:()=>a.state.linkchange.oldlink,set:e=>{a.commit("linkchange/OldLinkChanged",e)}}),L=t({get:()=>a.state.linkchange.newlink,set:e=>{a.commit("linkchange/NewLinkChanged",e)}}),Q=t({get:()=>a.state.screenchange.screenscroll}),V=t({get:()=>a.state.loginauth.authin}),K=t({get:()=>a.state.loginauth.login_name}),B=t({get:()=>a.state.loginauth.operator}),I=t({get:()=>a.state.settings.openid}),R=t({get:()=>a.state.langchange.lang}),_=t({get:()=>a.state.settings.server}),T=t({get:()=>a.state.scanchanged.scandata,set:e=>{a.commit("scanchanged/ScanChanged",e)}}),P=t({get:()=>a.state.scanchanged.datadetail,set:e=>{a.commit("scanchanged/ScanDataChanged",e)}}),C=t({get:()=>a.state.scanchanged.asndata,set:e=>{a.commit("scanchanged/ASNDataChanged",e)}}),W=t({get:()=>a.state.scanchanged.dndata,set:e=>{a.commit("scanchanged/DNDataChanged",e)}}),X=t({get:()=>a.state.scanchanged.bindata,set:e=>{a.commit("scanchanged/BinDataChanged",e)}}),p=t({get:()=>a.state.scanchanged.tablelist,set:e=>{a.commit("scanchanged/TableDataChanged",e)}}),f=t({get:()=>a.state.scanchanged.scanmode,set:e=>{a.commit("scanchanged/ScanModeChanged",e)}}),E=t({get:()=>a.state.scanchanged.bar_scanned}),v=t({get:()=>a.state.scanchanged.apiurl,set:e=>{a.commit("scanchanged/ApiUrlChanged",e)}}),b=t({get:()=>a.state.scanchanged.apiurlnext,set:e=>{a.commit("scanchanged/ApiUrlNextChanged",e)}}),M=t({get:()=>a.state.scanchanged.apiurlprevious,set:e=>{a.commit("scanchanged/ApiUrlPreviousChanged",e)}});function U(e){if(e!==null){var o=_.value.split(":"),i=e.split(":");return o[0]!==i[0]?o[0]+":"+i[1]:i}else return null}function q(e){C.value=e,f.value="ASN",A.value="asnlist",L.value="asndetail",N.push({name:"asndetail"})}function F(e){ia.get(v.value+e,{headers:{"Content-Type":"application/json",token:I.value,language:R.value,operator:B.value}}).then(o=>{if(o.data.detail)h.notify({type:"negative",message:g("notice.mobile_scan.notice1")});else{var i=[];p.value.forEach(k=>{i.push(k)}),o.data.results.forEach(k=>{i.push(k)}),p.value=i,M.value=U(o.data.previous),b.value=U(o.data.next)}}).catch(o=>{h.notify({type:"negative",message:g("notice.mobile_scan.notice3")})})}return $(Q,(e,o)=>{e>=.95?b.value!==null&&(v.value=b.value,r.value=1):r.value=0}),$(r,(e,o)=>{e===1&&F("")}),$(E,(e,o)=>{f.value==="ASN"&&q(T.value)}),ta(()=>{V.value==="0"?h.notify({type:"negative",message:g("notice.mobile_userlogin.notice9")}):(f.value="ASN",v.value=_.value+"/asn/list/",C.value="",p.value=[],F(""))}),{t:g,fab1:w,fab2:l,fab3:m,fab4:y,oldlink:A,newlink:L,screenscroll:Q,authin:V,login_name:K,openid:I,operator:B,lang:R,requestauth:r,baseurl:_,apiurl:v,apiurlnext:b,apiurlprevious:M,scandata:T,datadetail:P,tablelist:p,asndata:C,dndata:W,bindata:X,scanmode:f,bar_scanned:E,DetailLine:q}}});function ra(a,N,h,r,g,w){return D(),na(Y,{bordered:"",padding:""},{default:s(()=>[n(O,null,{default:s(()=>[n(S,null,{default:s(()=>[n(u,{overline:""},{default:s(()=>[d(c(a.$t("notice.mobile_asn.notice1")),1)]),_:1}),n(u,{caption:""},{default:s(()=>[d(c(a.$t("notice.mobile_asn.notice2")),1)]),_:1})]),_:1})]),_:1}),n(j,{spaced:""}),(D(!0),x(J,null,sa(a.tablelist,(l,m)=>(D(),x(J,{key:m},[n(O,null,{default:s(()=>[n(S,{onClick:y=>a.DetailLine(l.asn_code)},{default:s(()=>[n(u,null,{default:s(()=>[d(c(l.asn_code),1)]),_:2},1024),n(u,{caption:"",lines:"2"},{default:s(()=>[d(c(a.$t("notice.mobile_asn.notice3"))+c(l.supplier),1)]),_:2},1024)]),_:2},1032,["onClick"]),n(S,{side:"",top:""},{default:s(()=>[n(u,{caption:""},{default:s(()=>[d(c(a.$t("notice.mobile_asn.notice4"))+c(l.total_cost),1)]),_:2},1024),n(u,{caption:""},{default:s(()=>[d(c(a.$t("notice.mobile_asn.notice5"))+c(l.asn_status),1)]),_:2},1024)]),_:2},1024)]),_:2},1024),oa(n(j,{spaced:"",inset:"item"},null,512),[[ca,m+1!==a.tablelist.length]])],64))),128))]),_:1})}var _a=Z(da,[["render",ra]]);export{_a as default};
